<%- include('partials/header') %>
<link rel="stylesheet" href="/css/auth.css" />

<div class="auth-page">
  <div class="auth-wrapper">
    <h1>Recipe App</h1>
    <p>Tạo tài khoản miễn phí</p>

    <% if (typeof error_msg !== 'undefined' && error_msg.length > 0) { %>
    <div class="alert alert-danger rounded-3 mb-3">
      <i class="fas fa-exclamation-triangle me-2"></i><%= error_msg %>
    </div>
    <% } %>

    <form method="POST" action="/register" novalidate>
      <div class="input-box">
        <input
          type="text"
          name="username"
          placeholder="Tên đăng nhập"
          required
          minlength="3"
          maxlength="20"
          value="<%= typeof old !== 'undefined' ? old.username : '' %>"
        />
        <i class="fas fa-user"></i>
      </div>
      <div class="form-text text-light small">Từ 3–20 ký tự, không chứa khoảng trắng</div>

      <div class="input-box">
        <input
          type="email"
          name="email"
          placeholder="you@example.com"
          required
          value="<%= typeof old !== 'undefined' ? old.email : '' %>"
        />
        <i class="fas fa-envelope"></i>
      </div>

      <div class="input-box">
        <input
          type="password"
          name="password"
          id="password"
          placeholder="Mật khẩu (ít nhất 6 ký tự)"
          required
          minlength="6"
        />
        <i class="fas fa-lock"></i>
      </div>

      <div class="input-box">
        <input
          type="password"
          name="confirm_password"
          id="confirmPassword"
          placeholder="Nhập lại mật khẩu"
          required
          minlength="6"
        />
        <i class="fas fa-lock"></i>
      </div>

      <button type="submit" class="btn-submit">Đăng ký</button>

      <div class="register-link">
        <p>
          Đã có tài khoản?
          <a href="/login">Đăng nhập</a>
        </p>
      </div>
    </form>
  </div>
</div>
