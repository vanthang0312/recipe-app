<%- include('partials/header') %>

<div class="container py-5 min-vh-100 add">
  <div class="row justify-content-center">
    <div class="col-lg-10 add__hero text-center mb-5">
      <p class="text-uppercase fw-bold small text-danger add__eyebrow">
        <i class="fas fa-fire me-2"></i>Chia sáº» mÃ³n ngon cá»§a báº¡n
      </p>
      <h1 class="display-4 fw-bold add__title">ThÃªm cÃ´ng thá»©c má»›i</h1>
      <p class="lead text-muted col-lg-8 mx-auto add__subtitle">
        Äiá»n Ä‘áº§y Ä‘á»§ nguyÃªn liá»‡u, bÆ°á»›c lÃ m vÃ  hÃ¬nh áº£nh Ä‘á»ƒ má»i ngÆ°á»i cÃ³ thá»ƒ lÃ m
        theo nhanh nháº¥t.
      </p>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-lg-9 col-xl-8">
      <div
        class="card shadow-lg border-0 rounded-4 overflow-hidden add__form-card"
      >
        <div class="card-body p-5 add__form-body">
          <% if (typeof error_msg !== 'undefined' && error_msg) { %>
          <div
            class="alert alert-danger rounded-4 d-flex align-items-center mb-4"
          >
            <i class="fas fa-exclamation-triangle me-3 fs-4"></i>
            <div><%= error_msg %></div>
          </div>
          <% } %>

          <form
            id="add__form"
            method="POST"
            action="/recipes/add"
            enctype="multipart/form-data"
            novalidate
          >
            <!-- Upload áº£nh -->
            <div class="mb-5 add__field">
              <label class="form-label fw-bold text-danger fs-5 add__label">
                <i class="fas fa-camera"></i>
                áº¢nh mÃ³n Äƒn (báº¯t buá»™c)
              </label>
              <div class="upload-dropzone" id="upload-dropzone">
                <input
                  id="upload-dropzone__input"
                  type="file"
                  name="recipeImage"
                  accept="image/*"
                  required
                  class="upload-dropzone__input"
                />
                <div id="upload-dropzone__preview" class="text-center">
                  <i
                    class="fas fa-cloud-upload-alt text-danger upload-dropzone__icon"
                  ></i>
                  <p class="fw-bold text-danger fs-4 mb-1">
                    Chá»n áº£nh Ä‘á»ƒ táº£i lÃªn
                  </p>
                  <small class="text-muted d-block"
                    >JPG, PNG, WebP â€” tá»‘i Ä‘a 5MB</small
                  >
                </div>
              </div>
            </div>

            <!-- TiÃªu Ä‘á» -->
            <div class="mb-4 add__field">
              <label
                class="form-label fw-bold text-danger fs-5 add__label"
                for="add__title"
              >
                TiÃªu Ä‘á» mÃ³n Äƒn
              </label>
              <input
                id="add__title"
                type="text"
                name="title"
                class="form-control form-control-lg rounded-pill shadow-sm"
                placeholder="VD: Phá»Ÿ bÃ² HÃ  Ná»™i truyá»n thá»‘ng"
                required
              />
            </div>

            <!-- MÃ´ táº£ -->
            <div class="mb-4 add__field">
              <label
                class="form-label fw-bold text-danger add__label"
                for="add__description"
              >
                MÃ´ táº£ ngáº¯n (tÃ¹y chá»n)
              </label>
              <textarea
                id="add__description"
                name="description"
                class="form-control rounded-3"
                rows="3"
                placeholder="MÃ³n phá»Ÿ gia truyá»n 3 Ä‘á»i, nÆ°á»›c dÃ¹ng ninh tá»« xÆ°Æ¡ng bÃ² tÆ°Æ¡i..."
              ></textarea>
            </div>

            <!-- Video -->
            <div class="mb-5 add__field">
              <label
                class="form-label fw-bold text-danger fs-5 add__label"
                for="add__video"
              >
                <i class="fas fa-video me-2"></i>Video hÆ°á»›ng dáº«n (YouTube/Vimeo)
                â€” tÃ¹y chá»n
              </label>
              <div class="input-group input-group-lg">
                <span class="input-group-text bg-danger text-white">
                  <i class="fab fa-youtube"></i>
                </span>
                <input
                  id="add__video"
                  type="url"
                  name="video"
                  class="form-control rounded-end shadow-sm"
                  placeholder="https://www.youtube.com/watch?v=abc123 hoáº·c https://youtu.be/abc123"
                />
              </div>
              <div class="form-text mt-2">
                DÃ¡n link YouTube hoáº·c Vimeo, hoáº·c Ä‘á»ƒ trá»‘ng náº¿u khÃ´ng cÃ³ video.
              </div>
            </div>

            <!-- NguyÃªn liá»‡u -->
            <div class="mb-4 add__field">
              <label
                class="form-label fw-bold text-danger fs-5 add__label"
                for="add__ingredients"
              >
                NguyÃªn liá»‡u (má»—i dÃ²ng 1 thÃ nh pháº§n)
              </label>
              <textarea
                id="add__ingredients"
                name="ingredients"
                class="form-control rounded-3"
                rows="8"
                required
                placeholder="500g thá»‹t bÃ²&#10;300g bÃ¡nh phá»Ÿ tÆ°Æ¡i&#10;2kg xÆ°Æ¡ng bÃ²&#10;HÃ nh lÃ¡, rau thÆ¡m, giÃ¡ trá»¥ng..."
              ></textarea>
            </div>

            <!-- CÃ¡ch lÃ m -->
            <div class="mb-5 add__field">
              <label
                class="form-label fw-bold text-danger fs-5 add__label"
                for="add__steps"
              >
                CÃ¡ch lÃ m (má»—i dÃ²ng 1 bÆ°á»›c)
              </label>
              <textarea
                id="add__steps"
                name="instructions"
                class="form-control rounded-3"
                rows="12"
                required
                placeholder="1. Rá»­a xÆ°Æ¡ng bÃ² sáº¡ch, tráº§n sÆ¡ qua nÆ°á»›c sÃ´i...&#10;2. NÆ°á»›ng gá»«ng + hÃ nh tÃ¢y cho thÆ¡m...&#10;3. Ninh xÆ°Æ¡ng 10-12 tiáº¿ng..."
              ></textarea>
            </div>

            <!-- Submit -->
            <div class="text-center add__actions">
              <button
                type="submit"
                class="btn btn-danger btn-lg px-5 rounded-pill shadow-lg fw-bold py-3 add__submit"
              >
                <i class="fas fa-paper-plane me-3"></i>ÄÄƒng mÃ³n ngay
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer') %>
<script src='/js/add-recipe.js'></script>

